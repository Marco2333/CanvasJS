(function(b,c){function a(e){var d=document.getElementById(e);if(!d.getContext("2d")){alert("您的浏览器版本过低，请升级为高版本！");return null}this.root=d}a.prototype={init:function(){this.ct=this.root.getContext("2d");this.ct.beginPath();return this},strokeRect:function(e,h,g,d){var f=this.ct;f.strokeRect(e,h,g,d);return this},fillRect:function(e,h,g,d){var f=this.ct;f.fillRect(e,h,g,d);return this},drawTriangle:function(g,j,e,i,d,f){var h=this.ct;if(arguments.length<6){return this}h.moveTo(g,j);h.lineTo(e,i);h.lineTo(d,f);h.lineTo(g,j);return this},drawRoundRect:function(f,i,h,e,d){var g=this.ct;g.moveTo(f+d,i);g.arcTo(f+h,i,f+h,i+e,d);g.arcTo(f+h,i+e,f,i+e,d);g.arcTo(f,i+e,f,i,d);g.arcTo(f,i,f+d,i,d);return this},lineArrow:function(d,j,h,l,i){var g,f,e,p=d.x,o=d.y,n=j.x,m=j.y,k=this.ct;k.beginPath();if(i!=null&&typeof i=="string"){k.strokeStyle=i}g=n-p>0?n-p:-(n-p);f=m-o>0?m-o:-(m-o);e=Math.atan(g/f);g=Math.cos(Math.PI/2-h-e)*l;f=Math.sin(Math.PI/2-h-e)*l;arrow_x=n-p>0?n-g:n+g;arrow_y=m-o>0?m-f:m+f;k.moveTo(n,m);k.lineTo(arrow_x,arrow_y);g=Math.sin(e-h)*l;f=Math.cos(e-h)*l;arrow_x=n-p>0?n-g:n+g;arrow_y=m-o>0?m-f:m+f;k.moveTo(n,m);k.lineTo(arrow_x,arrow_y);k.moveTo(n,m);k.lineTo(p,o);return this},fillText:function(e,d,f){this.ct.fillText(e,d,f);return this},lineWidth:function(d){this.ct.lineWidth=d;return this},lineCap:function(d){this.ct.lineCap=d;return this},lineJoin:function(d){this.ct.lineJoin=d;return this},lineStyle:function(d,f,g){var e=this.ct;e.lineWidth=d;e.lineCap=f;e.lineJoin=g;return this},createLinearGradient:function(e,g,d,f){this.gt=this.ct.createLinearGradient(e,g,d,f);return this},createRadialGradient:function(g,i,f,e,h,d){this.gt=this.ct.createRadialGradient(g,i,f,e,h,d);return this},createGradient:function(q,t,s,r,p,n,m){var j=this.ct,o,g;if(q){o=Array.prototype.slice.call(arguments,5);g=j.createLinearGradient(t,s,r,p)}else{o=Array.prototype.slice.call(arguments,7);g=j.createRadialGradient(t,s,r,p,n,m)}if(!o.length){this.gt=g;return this}var h,l,k=o[0];if(o.length==1&&Object.prototype.toString.call(k)==="[object Array]"){for(h=1,l=k.length;h<l;h+=2){g.addColorStop(k[h-1],k[h])}this.gt=g;return this}for(h=1,l=o.length;h<l;h+=2){g.addColorStop(o[h-1],o[h])}this.gt=this;return this},addColorStop:function(h,j){var g,d,f=this.ct,e=this.gt;if(arguments.length===1&&Object.prototype.toString.call(h)==="[object Array]"){for(g=1,d=h.length;g<d;g+=2){e.addColorStop(h[g-1],h[g])}return this}for(g=1,d=args.length;g<d;g+=2){e.addColorStop(args[g-1],args[g])}return this},setPattern:function(g,e){var d=this.ct,f=context.createPattern(g,e);d.fillStyle=f;return this},quadraticCurveTo:function(f,e,d,g){this.ct.quadraticCurveTo(f,e,d,g);return this},bezierCurveTo:function(f,e,h,g,d,i){this.ct.bezierCurveTo(f,e,h,g,d,i);return this},save:function(){this.ct.save();return this},restore:function(){this.ct.restore();return this},strokeStyle:function(d){if(!d){this.ct.strokeStyle=this.gt;return this}this.ct.strokeStyle=d;return this},moveTo:function(d,e){this.ct.moveTo(d,e);return this},lineTo:function(d,e){this.ct.lineTo(d,e);return this},arc:function(d,i,h,g,e,f){this.ct.arc(d,i,h,g,e,f);return this},fillStyle:function(d){if(!d){this.ct.fillStyle=this.gt}this.ct.fillStyle=d;return this},stroke:function(){var d=this.ct;d.stroke();d.beginPath();return this},fill:function(){var d=this.ct;d.fill();d.beginPath()}};b.Canvas=a})(window);
